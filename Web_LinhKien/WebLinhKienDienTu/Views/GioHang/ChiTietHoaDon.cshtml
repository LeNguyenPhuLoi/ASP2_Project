@using Microsoft.AspNetCore.Identity
@using WebLinhKienDienTu.Models
@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager

@{
    ViewData["Title"] = "Home Page";
}

@model WebLinhKienDienTu.ViewModels.ChiTietHoaDonViewModel

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Shop Homepage - Start Bootstrap Template</title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="~/favicon.ico" />
    <!-- Bootstrap icons-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="css/styles.css" rel="stylesheet" />
    <style>
        .pagination {
            display: flex;
            justify-content: center; /* Căn giữa theo chiều ngang */
            align-items: center;
        }

    </style>

</head>

<body>
    @if (SignInManager.IsSignedIn(User))
    {
        @if(Model != null)
        {       
            <div class="container mt-4">
                <div class="card shadow-lg">
                    <div class="card-header bg-dark text-white d-flex justify-content-between align-items-center">
                        <h4 class="mb-0">Chi tiết hóa đơn</h4>
                    </div>

                    <div class="card-body">
                        <!-- Thông tin chung -->
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <p><strong>Mã hóa đơn:</strong> @Model.Mahd</p>
                                <p><strong>Khách hàng:</strong> @Model.Tenkh</p>
                                <p><strong>Ngày lập:</strong> @Model.Ngaylap</p>
                            </div>
                            <div class="col-md-6">
                                <p><strong>Nhân viên lập:</strong> @Model.TenNV</p>
                                @if (Model.Trangthai == "Đã thanh toán")
                                {
                                    <p><strong>Trạng thái:</strong> <span class="badge bg-success">@Model.Trangthai</span></p>
                                }
                                else
                                {
                                    <p><strong>Trạng thái:</strong> <span class="badge bg-danger">@Model.Trangthai</span></p>
                                }
                                <p><strong>Tổng tiền:</strong> <span class="text-danger fw-bold">@(Model.Soluong* Model.Dongia)</span></p>
                            </div>
                        </div>

                        <hr>

                        <!-- Danh sách sản phẩm -->
                        <h5 class="mb-3">Danh sách sản phẩm</h5>
                        <table class="table table-bordered text-center align-middle">
                            <thead class="table-secondary">
                                <tr>
                                    <th>Tên sản phẩm</th>
                                    <th>Địa chỉ kho</th>
                                    <th>Đơn giá (₫)</th>
                                    <th>Số lượng</th>
                                    <th>Thành tiền (₫)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>@Model.Tensp</td>
                                    <td>@Model.Tenkho</td>
                                    <td>@Model.Dongia</td>
                                    <td>@Model.Soluong</td>
                                    <td>@(Model.Soluong* Model.Dongia)</td>
                                </tr>
                            </tbody>
                        </table>

                        <div class="text-end mt-3">
                            <h5><strong>Tổng cộng:</strong> <span class="text-danger">@(Model.Soluong* Model.Dongia)</span></h5>
                        </div>
                    </div>

                </div>
            </div>
        }
    }
</body>

</html>