Update-Database -context ApplicationDbContext
Update-Database -context QllkContext

Add-Migration Init -context QllkContext

Sau khi Add-Migration, tìm đến file theo tên đã đặt (Init)
Tìm TAIKHOAN và sửa lại "
migrationBuilder.CreateTable(
    name: "TAIKHOAN",
    columns: table => new
    {
        EMAIL = table.Column<string>(type: "nvarchar(256)", maxLength: 256, nullable: false),
        PASS = table.Column<string>(type: "char(50)", unicode: false, fixedLength: true, maxLength: 50, nullable: true),
        QUYEN = table.Column<string>(type: "nvarchar(50)", maxLength: 50, nullable: true),
        TRANGTHAI = table.Column<string>(type: "nvarchar(20)", maxLength: 20, nullable: true)
    },
    constraints: table =>
    {
        table.PrimaryKey("PK_TK", x => x.EMAIL);
        table.ForeignKey(
            name: "FK_TAIKHOAN_AspNetUsers_EMAIL",
            column: x => x.EMAIL,
            principalTable: "AspNetUsers",
            principalColumn: "Email",
            onDelete: ReferentialAction.Restrict);
    });
"
và có thể đóng migrationBuilder CreateTable name: "ApplicationUser" nếu muốn



GHI CHÚ THÊM
migrationBuilder.CreateIndex(
    name: "IX_AspNetUsers_Email",
    table: "AspNetUsers",
    column: "Email",
    unique: true);



Trong QllkContext
Tìm TAIKHOAN và sửa lại "
modelBuilder.Entity<Taikhoan>(entity =>
{
    entity.HasKey(e => e.Email).HasName("PK_TK");

    entity.ToTable("TAIKHOAN");

    entity.Property(e => e.Email)
        .HasMaxLength(256)
        .HasColumnName("EMAIL");
    entity.Property(e => e.Pass)
        .HasMaxLength(50)
        .IsUnicode(false)
        .IsFixedLength()
        .HasColumnName("PASS");
    entity.Property(e => e.Quyen)
        .HasMaxLength(50)
        .HasColumnName("QUYEN");
    entity.Property(e => e.Trangthai)
        .HasMaxLength(20)
        .HasColumnName("TRANGTHAI");

    entity.HasOne(t => t.User)
          .WithMany()
          .HasForeignKey(t => t.Email)
          .HasPrincipalKey(u => u.Email)
          .OnDelete(DeleteBehavior.Restrict);
});
" và sửa giới hạn ở các email khác từ 100 -> 256